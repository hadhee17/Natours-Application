parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"eqli":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.displayMap=void 0;var o=exports.displayMap=function(o){var t=L.map("map",{zoomControl:!1});L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',crossOrigin:""}).addTo(t);var e=[];o.forEach(function(o){e.push([o.coordinates[1],o.coordinates[0]]),L.marker([o.coordinates[1],o.coordinates[0]]).addTo(t).bindPopup("<p>Day ".concat(o.day,": ").concat(o.description,"</p>"),{autoClose:!1}).openPopup()});var a=L.latLngBounds(e).pad(.5);t.fitBounds(a),t.scrollWheelZoom.disable()};
},{}],"acK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showAlert=exports.hideAlert=void 0;var e=exports.hideAlert=function(){var e=document.querySelector(".alert");e&&e.parentElement.removeChild(e)},t=exports.showAlert=function(t,r){e();var o='<div class="alert alert--'.concat(t,'">').concat(r,"</div>");document.querySelector("body").insertAdjacentHTML("afterbegin",o),window.setTimeout(e,5e3)};
},{}],"mnjM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.logout=exports.login=void 0;var t=require("./alert");function r(){var t,n,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function u(r,o,i,a){var u=o&&o.prototype instanceof s?o:s,f=Object.create(u.prototype);return e(f,"_invoke",function(r,e,o){var i,a,u,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(r,e){return i=r,a=0,u=t,p.n=e,c}};function v(r,e){for(a=r,u=e,n=0;!l&&s&&!o&&n<f.length;n++){var o,i=f[n],v=p.p,y=i[2];r>3?(o=y===e)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=v&&((o=r<2&&v<i[1])?(a=0,p.v=e,p.n=i[1]):v<y&&(o=r<3||i[0]>e||e>y)&&(i[4]=r,i[5]=e,p.n=y,a=0))}if(o||r>1)return c;throw l=!0,e}return function(o,f,y){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&v(f,y),a=f,u=y;(n=a<2?t:u)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,u)):p.n=u:p.v=u);try{if(s=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(l=p.n<0)?u:r.call(e,p))!==c)break}catch(n){i=t,a=1,u=n}finally{s=1}}return{value:n,done:l}}}(r,i,a),!0),f}var c={};function s(){}function f(){}function l(){}n=Object.getPrototypeOf;var p=[][i]?n(n([][i]())):(e(n={},i,function(){return this}),n),v=l.prototype=s.prototype=Object.create(p);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,e(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return f.prototype=l,e(v,"constructor",l),e(l,"constructor",f),f.displayName="GeneratorFunction",e(l,a,"GeneratorFunction"),e(v),e(v,a,"Generator"),e(v,i,function(){return this}),e(v,"toString",function(){return"[object Generator]"}),(r=function(){return{w:u,m:y}})()}function e(t,r,n,o){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}(e=function(t,r,n,o){function a(r,n){e(t,r,function(t){return this._invoke(r,n,t)})}r?i?i(t,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[r]=n:(a("next",0),a("throw",1),a("return",2))})(t,r,n,o)}function n(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function o(t){return function(){var r=this,e=arguments;return new Promise(function(o,i){var a=t.apply(r,e);function u(t){n(a,o,i,u,c,"next",t)}function c(t){n(a,o,i,u,c,"throw",t)}u(void 0)})}}var i=exports.login=function(){var e=o(r().m(function e(n,o){var i;return r().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,axios({method:"POST",url:"http://127.0.0.1:3000/api/v1/users/login",data:{email:n,password:o}});case 1:"Success"===r.v.data.status&&((0,t.showAlert)("success","Logged in successfully!"),window.setTimeout(function(){location.assign("/")},1500)),r.n=3;break;case 2:r.p=2,(i=r.v).response&&i.response.data?(0,t.showAlert)("error",i.response.data.message):(0,t.showAlert)("error","Error logging in. Please try again.");case 3:return r.a(2)}},e,null,[[0,2]])}));return function(t,r){return e.apply(this,arguments)}}(),a=exports.logout=function(){var e=o(r().m(function e(){return r().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,axios({method:"GET",url:"http://127.0.0.1:3000/api/v1/users/logout"});case 1:"success"===r.v.data.status&&location.reload(!0),r.n=3;break;case 2:r.p=2,r.v,(0,t.showAlert)("error","Error logging out! Try again.");case 3:return r.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();
},{"./alert":"acK6"}],"FxPS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateSettings=void 0;var t=require("./alert");function r(){var t,n,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function i(r,o,u,a){var i=o&&o.prototype instanceof s?o:s,f=Object.create(i.prototype);return e(f,"_invoke",function(r,e,o){var u,a,i,s=0,f=o||[],p=!1,l={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(r,e){return u=r,a=0,i=t,l.n=e,c}};function v(r,e){for(a=r,i=e,n=0;!p&&s&&!o&&n<f.length;n++){var o,u=f[n],v=l.p,d=u[2];r>3?(o=d===e)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=v&&((o=r<2&&v<u[1])?(a=0,l.v=e,l.n=u[1]):v<d&&(o=r<3||u[0]>e||e>d)&&(u[4]=r,u[5]=e,l.n=d,a=0))}if(o||r>1)return c;throw p=!0,e}return function(o,f,d){if(s>1)throw TypeError("Generator is already running");for(p&&1===f&&v(f,d),a=f,i=d;(n=a<2?t:i)||!p;){u||(a?a<3?(a>1&&(l.n=-1),v(a,i)):l.n=i:l.v=i);try{if(s=2,u){if(a||(o="next"),n=u[o]){if(!(n=n.call(u,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,a<2&&(a=0)}else 1===a&&(n=u.return)&&n.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((n=(p=l.n<0)?i:r.call(e,l))!==c)break}catch(n){u=t,a=1,i=n}finally{s=1}}return{value:n,done:p}}}(r,u,a),!0),f}var c={};function s(){}function f(){}function p(){}n=Object.getPrototypeOf;var l=[][u]?n(n([][u]())):(e(n={},u,function(){return this}),n),v=p.prototype=s.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,e(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return f.prototype=p,e(v,"constructor",p),e(p,"constructor",f),f.displayName="GeneratorFunction",e(p,a,"GeneratorFunction"),e(v),e(v,a,"Generator"),e(v,u,function(){return this}),e(v,"toString",function(){return"[object Generator]"}),(r=function(){return{w:i,m:d}})()}function e(t,r,n,o){var u=Object.defineProperty;try{u({},"",{})}catch(t){u=0}(e=function(t,r,n,o){function a(r,n){e(t,r,function(t){return this._invoke(r,n,t)})}r?u?u(t,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[r]=n:(a("next",0),a("throw",1),a("return",2))})(t,r,n,o)}function n(t,r,e,n,o,u,a){try{var i=t[u](a),c=i.value}catch(t){return void e(t)}i.done?r(c):Promise.resolve(c).then(n,o)}function o(t){return function(){var r=this,e=arguments;return new Promise(function(o,u){var a=t.apply(r,e);function i(t){n(a,o,u,i,c,"next",t)}function c(t){n(a,o,u,i,c,"throw",t)}i(void 0)})}}var u=exports.updateSettings=function(){var e=o(r().m(function e(n,o){var u,a;return r().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,u="password"===o?"http://127.0.0.1:3000/api/v1/users/updateMyPassword":"http://127.0.0.1:3000/api/v1/users/updateMe",r.n=1,axios({method:"PATCH",url:u,data:n});case 1:"Success"===r.v.data.status&&(0,t.showAlert)("success","".concat(o.toUpperCase()," updated successfully!")),r.n=3;break;case 2:r.p=2,a=r.v,(0,t.showAlert)("error",a.response.data.message);case 3:return r.a(2)}},e,null,[[0,2]])}));return function(t,r){return e.apply(this,arguments)}}();
},{"./alert":"acK6"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("./mapBox"),t=require("./login"),n=require("./updateSettings");function r(){var e,t,n="function"==typeof Symbol?Symbol:{},u=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function i(n,r,u,a){var i=r&&r.prototype instanceof s?r:s,d=Object.create(i.prototype);return o(d,"_invoke",function(n,r,o){var u,a,i,s=0,d=o||[],l=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return u=t,a=0,i=e,f.n=n,c}};function p(n,r){for(a=n,i=r,t=0;!l&&s&&!o&&t<d.length;t++){var o,u=d[t],p=f.p,m=u[2];n>3?(o=m===r)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=e):u[0]<=p&&((o=n<2&&p<u[1])?(a=0,f.v=r,f.n=u[1]):p<m&&(o=n<3||u[0]>r||r>m)&&(u[4]=n,u[5]=r,f.n=m,a=0))}if(o||n>1)return c;throw l=!0,r}return function(o,d,m){if(s>1)throw TypeError("Generator is already running");for(l&&1===d&&p(d,m),a=d,i=m;(t=a<2?e:i)||!l;){u||(a?a<3?(a>1&&(f.n=-1),p(a,i)):f.n=i:f.v=i);try{if(s=2,u){if(a||(o="next"),t=u[o]){if(!(t=t.call(u,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,a<2&&(a=0)}else 1===a&&(t=u.return)&&t.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=e}else if((t=(l=f.n<0)?i:n.call(r,f))!==c)break}catch(t){u=e,a=1,i=t}finally{s=1}}return{value:t,done:l}}}(n,u,a),!0),d}var c={};function s(){}function d(){}function l(){}t=Object.getPrototypeOf;var f=[][u]?t(t([][u]())):(o(t={},u,function(){return this}),t),p=l.prototype=s.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,o(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=l,o(p,"constructor",l),o(l,"constructor",d),d.displayName="GeneratorFunction",o(l,a,"GeneratorFunction"),o(p),o(p,a,"Generator"),o(p,u,function(){return this}),o(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:i,m:m}})()}function o(e,t,n,r){var u=Object.defineProperty;try{u({},"",{})}catch(e){u=0}(o=function(e,t,n,r){function a(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?u?u(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function u(e,t,n,r,o,u,a){try{var i=e[u](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)})}}var i=document.getElementById("map"),c=document.querySelector(".form--login"),s=document.querySelector(".nav__el--logout"),d=document.querySelector(".form-user-data"),l=document.querySelector(".form-user-password");if(i){var f=JSON.parse(i.dataset.locations);(0,e.displayMap)(f)}c&&c.addEventListener("submit",function(){var e=a(r().m(function e(n){var o,u;return r().w(function(e){for(;;)switch(e.n){case 0:return n.preventDefault(),o=document.getElementById("email").value,u=document.getElementById("password").value,e.n=1,(0,t.login)(o,u);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),s&&s.addEventListener("click",t.logout),d&&d.addEventListener("submit",function(e){e.preventDefault();var t=new FormData;t.append("name",document.getElementById("name").value),t.append("email",document.getElementById("email").value),t.append("photo",document.getElementById("photo").files[0]),(0,n.updateSettings)(t,"data")}),l&&l.addEventListener("submit",function(){var e=a(r().m(function e(t){var o,u,a;return r().w(function(e){for(;;)switch(e.n){case 0:return t.preventDefault(),document.querySelector(".btn--save-password").textContent="Updating...",o=document.getElementById("password-current").value,u=document.getElementById("password").value,a=document.getElementById("password-confirm").value,e.n=1,(0,n.updateSettings)({currentPassword:o,password:u,passwordConfirm:a},"password");case 1:document.querySelector(".btn--save-password").textContent="Save password",document.getElementById("password-current").value="",document.getElementById("password").value="",document.getElementById("password-confirm").value="";case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());
},{"./mapBox":"eqli","./login":"mnjM","./updateSettings":"FxPS"}]},{},["Focm"], null)
//# sourceMappingURL=/bundle.js.map